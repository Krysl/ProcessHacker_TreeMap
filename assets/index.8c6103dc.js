import{c as H,d as L,s as $,f as D,i as G,h as k,a as O,g as q,b as R}from"./vendor.f914d293.js";const W=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const t of r.addedNodes)t.tagName==="LINK"&&t.rel==="modulepreload"&&s(t)}).observe(document,{childList:!0,subtree:!0});function l(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=l(o);fetch(o.href,r)}};W();function j(e){const n=e.indexOf('"'),l=H(e.slice(n)),s=e.slice(0,n-2);console.log(s);let o={name:"/",description:s,index:-1,depth:-1,children:[]},r=-1,t=o,i=o,a=[];for(let c=0;c<l.length;c++){const y=l[c];let m=y.Name;const T=m.length;m=m.trim();const u=(T-m.length)/2;let U="";const p=y["Private bytes"];let B=0;p.includes("kB")?B=parseFloat(p)*1e3:p.includes("MB")?B=parseFloat(p)*1e3*1e3:p.includes("GB")&&(B=parseFloat(p)*1e3*1e3*1e3);const x={name:m.replace(".exe",""),value:B,description:y.Description,commandLine:y["Command line"],index:c,depth:u,children:null};if(u>r){const h={name:i.name,value:i.value,description:i.description,commandLine:i.commandLine,index:i.index+.5,depth:i.depth+1,children:null};i.name+="+...",i.value=0,i.children=[h],t=i,t.children.push(x),a.push(t)}else if(u==r)t.children.push(x);else if(u<r){let h=r-u;for(;h--;)a.pop();t=a[a.length-1],t.children.push(x)}r=u,i=x;for(const h of a)U+=h.name+"/"}return console.log(o),o}let Z=0;function I(e){return new z("O-"+(e==null?"":e+"-")+ ++Z)}function z(e){this.id=e,this.href=new URL(`#${e}`,location)+""}z.prototype.toString=function(){return"url("+this.href+")"};function E(e){let n="";const l=1e3*1e3*1e3,s=1e3*1e3,o=1e3;return e>l?n=`${e/l} GB`:e>s?n=`${e/s} MB`:e>o?n=`${e/o} kB`:n=`${e} B`,n}const C=()=>document.body.clientHeight-document.getElementById("titlebar").clientHeight,N=()=>document.body.clientWidth,M=new Map,K=e=>{if(e.parent===null)return e.color="#888888",e.color;const n=e.data.name.replace("+...","");let l;return M.has(n)?l=M.get(n):(l=Math.random()*360,M.set(n,l)),R(l,.65,.5+.05*e.depth).toString()},b="random by name",g=new Map([[b,K]]);for(const e in L)if(e.startsWith("interpolate")){console.log(e);const n=L[e];console.log(n),g.set(e,l=>$([8,0],n)(l.height)),g.set(e+"2",l=>$([8,0],n)(l.depth))}const f=document.getElementById("color-mode");let A=localStorage.getItem("color-mode");A===null&&(localStorage.setItem("color-mode",b),A=b);for(let[e,n]of g){var S=document.createElement("option");S.value=e,S.innerHTML=e,e==A&&(S.selected=!0),f.appendChild(S)}let P=g.get(f.value);console.log(f.value);f.onchange=e=>{P=g.get(f.value),localStorage.setItem("color-mode",f.value),v(null)};const w=document.getElementById("sort-by-size");let d=localStorage.getItem("sort-by-size");d=d=="true";d===null&&(localStorage.setItem("sort-by-size",!0),d=!0);w.checked=d;w.onchange=e=>{localStorage.setItem("sort-by-size",w.checked),d=w.checked,v(null)};document.body.onresize=()=>v(null);D(",d");const V=e=>G().size([N(),C()]).paddingOuter(3).paddingTop(19).paddingInner(1).round(!0)(d?k(e).sum(n=>n.value).sort((n,l)=>l.value-n.value):k(e).sum(n=>n.value));let F;function v(e){e===null?e=F:F=e;const n=V(e),l=I("shadow"),s=O("#d3-output-svg");s&&s.remove();const o=O("#d3-output").append("svg").attr("id","d3-output-svg").attr("viewBox",[0,0,N(),C()]).style("font","10px sans-serif");o.append("filter").attr("id",l.id).append("feDropShadow").attr("flood-opacity",.3).attr("dx",0).attr("stdDeviation",3);const r=o.selectAll("g").data(q(n,t=>t.depth)).join("g").attr("filter",l).selectAll("g").data(t=>t[1]).join("g").attr("transform",t=>`translate(${t.x0},${t.y0})`);return r.append("title").text(t=>{var i;return`${t.ancestors().reverse().map((a,c)=>c==0?null:`
`+"	".repeat(c-1)+(c>1?"\u21AA ":"")+a.data.name.replace("+...","")).join("")}
memory:
	${E(t.value)}
cmd:
	${(i=t.data.commandLine)==null?void 0:i.replaceAll(" -",`
		-`)}`}),r.append("rect").attr("id",t=>(t.nodeUid=I("node")).id).attr("fill",t=>P(t)).attr("width",t=>t.x1-t.x0).attr("height",t=>t.y1-t.y0),r.append("clipPath").attr("id",t=>(t.clipUid=I("clip")).id).append("use").attr("xlink:href",t=>t.nodeUid.href),r.append("text").attr("clip-path",t=>t.clipUid).selectAll("tspan").data(t=>{let i=t.data.name.split(/(?=[A-Z][^A-Z ])/g);return i=i.concat(E(t.value)).concat(t.data.description),i}).join("tspan").text(t=>t),r.filter(t=>t.children).selectAll("tspan").attr("dx",3).attr("y",13),r.filter(t=>!t.children).selectAll("tspan").attr("x",3).attr("y",(t,i,a)=>`${(i===a.length-1)*.3+1.1+i}em`),o.node(),o.node()}const J=document.getElementById("tips"),Q=document.getElementById("inputfile");Q.addEventListener("change",function(){var e=new FileReader;e.onload=function(){const n=j(e.result);J.innerText=n.description.split(`\r
`).join(", "),v(n)},e.readAsText(this.files[0])});fetch("Process Hacker Processes.csv").then(function(e){return e.text()}).then(function(e){const n=j(e);v(n)});
